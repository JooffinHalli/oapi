{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "OAPI Transpiler Configuration",
    "description": "Configuration schema for OAPI Transpiler",
    "type": "object",
    "required": [
        "output",
        "services"
    ],
    "properties": {
        "generateClient": {
            "type": "boolean",
            "description": "Flag to generate typed client for all services",
            "default": false,
            "examples": [
                true,
                false
            ]
        },
        "tabSize": {
            "type": "number",
            "description": "Tab size for generated files (max value is 8)",
            "default": 2,
            "examples": [
                2,
                4
            ]
        },
        "output": {
            "type": "string",
            "description": "Global output directory for generated types and client",
            "examples": [
                "./src/api"
            ]
        },
        "services": {
            "type": "array",
            "description": "List of OpenAPI services to process",
            "items": {
                "type": "object",
                "required": [
                    "src",
                    "dirname"
                ],
                "properties": {
                    "src": {
                        "type": "string",
                        "description": "OpenAPI source (URL or file path)",
                        "examples": [
                            "https://api.example.com/swagger.json",
                            "./openapi.json"
                        ]
                    },
                    "dirname": {
                        "type": "string",
                        "description": "Directory name for generated files for this service",
                        "examples": [
                            "myService",
                            "auth",
                            "products"
                        ]
                    },
                    "hook": {
                        "type": "string",
                        "description": "Path to custom hook function",
                        "examples": [
                            "./hooks.js",
                            "./hooks/myService.js"
                        ]
                    },
                    "filter": {
                        "type": "string",
                        "description": "Regular expression to filter paths",
                        "pattern": ".*",
                        "examples": [
                            "^(?!.*internal).*$",
                            "^/api/v1/.*$",
                            "^(?!.*(?:internal|private|admin)).*$"
                        ]
                    },
                    "generatePaths": {
                        "type": "boolean",
                        "description": "Flag to generate path.ts ans index.ts files",
                        "default": true,
                        "examples": [
                            true,
                            false
                        ]
                    },
                    "toCamelCase": {
                        "type": "boolean",
                        "description": "Flag to convert property names to camelCase and type names to PascalCase",
                        "default": false,
                        "examples": [
                            true,
                            false
                        ]
                    }
                },
                "additionalProperties": false
            }
        }
    },
    "additionalProperties": false
}